name: Install kustomize
description: Downloads kustomize and installs it locally.
inputs:
  kustomize_version:
    description: The version of kustomize to install. For example, 5.4.2.
    required: true
runs:
  using: composite
  steps:
    - name: Install Kustomize
      working-directory: tools
      shell: bash
      run: |
        mkdir -p ./kustomize/bin
        curl -L -s https://github.com/kubernetes-sigs/kustomize/releases/download/kustomize/v${{ inputs.kustomize_version }}/kustomize_v${{ inputs.kustomize_version }}_linux_amd64.tar.gz -o kustomize.tar.gz
        tar -xzf kustomize.tar.gz -C ./kustomize/bin
        echo "$(pwd)/kustomize/bin" >> $GITHUB_PATH