on:
  pull_request:
    branches: [ "main" ]

jobs:
  wait-for-image-build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: ./.github/actions/wait-for-image-build
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          statusName: ${{ (github.event_name == 'pull_request') && 'pull-lifecycle-mgr-build' || 'main-lifecycle-mgr-build' }}
  hello_world_job:
    needs: wait-for-image-build
    runs-on: ubuntu-latest
    name: A job to say hello
    steps:
      - uses: actions/checkout@v4
      - id: foo
        uses: ./.github/actions/hello-world-action
        with:
          who-to-greet: 'Mona the Octocat'
